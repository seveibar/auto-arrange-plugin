/*!
* rete-auto-arrange-plugin v0.3.0 
* (c) 2019 Vitaliy Stoliarov 
* Released under the MIT license.
*/
!function(e){"use strict";var c,t=Object.prototype,f=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",r=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag",a="object"==typeof module,u=e.regeneratorRuntime;if(u)a&&(module.exports=u);else{(u=e.regeneratorRuntime=a?module.exports:{}).wrap=m;var s="suspendedStart",d="suspendedYield",h="executing",l="completed",v={},p={};p[o]=function(){return this};var g=Object.getPrototypeOf,y=g&&g(g(S([])));y&&y!==t&&f.call(y,o)&&(p=y);var b=j.prototype=_.prototype=Object.create(p);E.prototype=b.constructor=j,j.constructor=E,j[i]=E.displayName="GeneratorFunction",u.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===E||"GeneratorFunction"===(t.displayName||t.name))},u.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,j):(e.__proto__=j,i in e||(e[i]="GeneratorFunction")),e.prototype=Object.create(b),e},u.awrap=function(e){return{__await:e}},x(k.prototype),k.prototype[r]=function(){return this},u.AsyncIterator=k,u.async=function(e,t,n,r){var o=new k(m(e,t,n,r));return u.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},x(b),b[i]="Generator",b[o]=function(){return this},b.toString=function(){return"[object Generator]"},u.keys=function(n){var r=[];for(var e in n)r.push(e);return r.reverse(),function e(){for(;r.length;){var t=r.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},u.values=S,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&f.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=c)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function e(e,t){return i.type="throw",i.arg=n,r.next=e,t&&(r.method="next",r.arg=c),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var o=this.tryEntries[t],i=o.completion;if("root"===o.tryLoc)return e("end");if(o.tryLoc<=this.prev){var a=f.call(o,"catchLoc"),u=f.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return e(o.catchLoc,!0);if(this.prev<o.finallyLoc)return e(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return e(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return e(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&f.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;I(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=c),v}}}function m(e,t,n,r){var o=t&&t.prototype instanceof _?t:_,i=Object.create(o.prototype),a=new L(r||[]);return i._invoke=function(i,a,u){var c=s;return function(e,t){if(c===h)throw new Error("Generator is already running");if(c===l){if("throw"===e)throw t;return P()}for(u.method=e,u.arg=t;;){var n=u.delegate;if(n){var r=O(n,u);if(r){if(r===v)continue;return r}}if("next"===u.method)u.sent=u._sent=u.arg;else if("throw"===u.method){if(c===s)throw c=l,u.arg;u.dispatchException(u.arg)}else"return"===u.method&&u.abrupt("return",u.arg);c=h;var o=w(i,a,u);if("normal"===o.type){if(c=u.done?l:d,o.arg===v)continue;return{value:o.arg,done:u.done}}"throw"===o.type&&(c=l,u.method="throw",u.arg=o.arg)}}}(e,n,a),i}function w(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function _(){}function E(){}function j(){}function x(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function k(c){var t;this._invoke=function(n,r){function e(){return new Promise(function(e,t){!function t(e,n,r,o){var i=w(c[e],c,n);if("throw"!==i.type){var a=i.arg,u=a.value;return u&&"object"==typeof u&&f.call(u,"__await")?Promise.resolve(u.__await).then(function(e){t("next",e,r,o)},function(e){t("throw",e,r,o)}):Promise.resolve(u).then(function(e){a.value=e,r(a)},o)}o(i.arg)}(n,r,e,t)})}return t=t?t.then(e,e):e()}}function O(e,t){var n=e.iterator[t.method];if(n===c){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=c,O(e,t),"throw"===t.method))return v;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var r=w(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,v;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=c),t.delegate=null,v):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,v)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(f.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=c,e.done=!0,e};return r.next=r}}return{next:P}}function P(){return{value:c,done:!0}}}(function(){return this}()||Function("return this")()),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).AutoArrangePlugin={})}(this,function(e){"use strict";function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function n(e,t){return e(t={exports:{}},t.exports),t.exports}function r(){this.__data__=[],this.size=0}var d=function(e,t){return e===t||e!=e&&t!=t};var i=function(e,t){for(var n=e.length;n--;)if(d(e[n][0],t))return n;return-1},a=Array.prototype.splice;function u(e){var t=this.__data__,n=i(t,e);return!(n<0)&&(n==t.length-1?t.pop():a.call(t,n,1),--this.size,!0)}function c(e){var t=this.__data__,n=i(t,e);return n<0?void 0:t[n][1]}function f(e){return-1<i(this.__data__,e)}function s(e,t){var n=this.__data__,r=i(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function h(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}h.prototype.clear=r,h.prototype.delete=u,h.prototype.get=c,h.prototype.has=f,h.prototype.set=s;var l=h;function v(){this.__data__=new l,this.size=0}function p(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function g(e){return this.__data__.get(e)}function y(e){return this.__data__.has(e)}var b="object"==typeof t&&t&&t.Object===Object&&t,m="object"==typeof self&&self&&self.Object===Object&&self,w=b||m||Function("return this")(),_=w.Symbol,E=Object.prototype,x=E.hasOwnProperty,k=E.toString,O=_?_.toStringTag:void 0;var N=function(e){var t=x.call(e,O),n=e[O];try{var r=!(e[O]=void 0)}catch(e){}var o=k.call(e);return r&&(t?e[O]=n:delete e[O]),o},I=Object.prototype.toString;var L=function(e){return I.call(e)},S=_?_.toStringTag:void 0;var P=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":S&&S in Object(e)?N(e):L(e)};var A=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var C,M=function(e){if(!A(e))return!1;var t=P(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},T=w["__core-js_shared__"],R=(C=/[^.]+$/.exec(T&&T.keys&&T.keys.IE_PROTO||""))?"Symbol(src)_1."+C:"";var F=function(e){return!!R&&R in e},z=Function.prototype.toString;var D=function(e){if(null!=e){try{return z.call(e)}catch(e){}try{return e+""}catch(e){}}return""},G=/^\[object .+?Constructor\]$/,U=Function.prototype,B=Object.prototype,V=U.toString,$=B.hasOwnProperty,q=RegExp("^"+V.call($).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Y=function(e){return!(!A(e)||F(e))&&(M(e)?q:G).test(D(e))};var W=function(e,t){return null==e?void 0:e[t]};var H=function(e,t){var n=W(e,t);return Y(n)?n:void 0},J=H(w,"Map"),K=H(Object,"create");function Q(){this.__data__=K?K(null):{},this.size=0}function X(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Z=Object.prototype.hasOwnProperty;function ee(e){var t=this.__data__;if(K){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Z.call(t,e)?t[e]:void 0}var te=Object.prototype.hasOwnProperty;function ne(e){var t=this.__data__;return K?void 0!==t[e]:te.call(t,e)}function re(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=K&&void 0===t?"__lodash_hash_undefined__":t,this}function oe(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}oe.prototype.clear=Q,oe.prototype.delete=X,oe.prototype.get=ee,oe.prototype.has=ne,oe.prototype.set=re;var ie=oe;var ae=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var ue=function(e,t){var n=e.__data__;return ae(t)?n["string"==typeof t?"string":"hash"]:n.map};function ce(e){var t=ue(this,e).delete(e);return this.size-=t?1:0,t}function fe(e){return ue(this,e).get(e)}function se(e){return ue(this,e).has(e)}function de(e,t){var n=ue(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function he(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}he.prototype.clear=function(){this.size=0,this.__data__={hash:new ie,map:new(J||l),string:new ie}},he.prototype.delete=ce,he.prototype.get=fe,he.prototype.has=se,he.prototype.set=de;var le=he;function ve(e,t){var n=this.__data__;if(n instanceof l){var r=n.__data__;if(!J||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new le(r)}return n.set(e,t),this.size=n.size,this}function pe(e){var t=this.__data__=new l(e);this.size=t.size}pe.prototype.clear=v,pe.prototype.delete=p,pe.prototype.get=g,pe.prototype.has=y,pe.prototype.set=ve;var ge=pe;var ye=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e},be=function(){try{var e=H(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();var me=function(e,t,n){"__proto__"==t&&be?be(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},we=Object.prototype.hasOwnProperty;var _e=function(e,t,n){var r=e[t];we.call(e,t)&&d(r,n)&&(void 0!==n||t in e)||me(e,t,n)};var Ee=function(e,t,n,r){var o=!n;n=n||{};for(var i=-1,a=t.length;++i<a;){var u=t[i],c=r?r(n[u],e[u],u,n,e):void 0;void 0===c&&(c=e[u]),o?me(n,u,c):_e(n,u,c)}return n};var je=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};var xe=function(e){return null!=e&&"object"==typeof e};var ke=function(e){return xe(e)&&"[object Arguments]"==P(e)},Oe=Object.prototype,Ne=Oe.hasOwnProperty,Ie=Oe.propertyIsEnumerable,Le=ke(function(){return arguments}())?ke:function(e){return xe(e)&&Ne.call(e,"callee")&&!Ie.call(e,"callee")},Se=Array.isArray;function Pe(){return!1}var Ae=n(function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,o=r&&r.exports===n?w.Buffer:void 0,i=(o?o.isBuffer:void 0)||Pe;e.exports=i}),Ce=/^(?:0|[1-9]\d*)$/;var Me=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&Ce.test(e))&&-1<e&&e%1==0&&e<t};var Te=function(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=9007199254740991},Re={};Re["[object Float32Array]"]=Re["[object Float64Array]"]=Re["[object Int8Array]"]=Re["[object Int16Array]"]=Re["[object Int32Array]"]=Re["[object Uint8Array]"]=Re["[object Uint8ClampedArray]"]=Re["[object Uint16Array]"]=Re["[object Uint32Array]"]=!0,Re["[object Arguments]"]=Re["[object Array]"]=Re["[object ArrayBuffer]"]=Re["[object Boolean]"]=Re["[object DataView]"]=Re["[object Date]"]=Re["[object Error]"]=Re["[object Function]"]=Re["[object Map]"]=Re["[object Number]"]=Re["[object Object]"]=Re["[object RegExp]"]=Re["[object Set]"]=Re["[object String]"]=Re["[object WeakMap]"]=!1;function Fe(e){return xe(e)&&Te(e.length)&&!!Re[P(e)]}var ze=function(t){return function(e){return t(e)}},De=n(function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,o=r&&r.exports===n&&b.process,i=function(){try{var e=r&&r.require&&r.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(e){}}();e.exports=i}),Ge=De&&De.isTypedArray,Ue=Ge?ze(Ge):Fe,Be=Object.prototype.hasOwnProperty;var Ve=function(e,t){var n=Se(e),r=!n&&Le(e),o=!n&&!r&&Ae(e),i=!n&&!r&&!o&&Ue(e),a=n||r||o||i,u=a?je(e.length,String):[],c=u.length;for(var f in e)!t&&!Be.call(e,f)||a&&("length"==f||o&&("offset"==f||"parent"==f)||i&&("buffer"==f||"byteLength"==f||"byteOffset"==f)||Me(f,c))||u.push(f);return u},$e=Object.prototype;var qe=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||$e)};var Ye=function(t,n){return function(e){return t(n(e))}},We=Ye(Object.keys,Object),He=Object.prototype.hasOwnProperty;var Je=function(e){if(!qe(e))return We(e);var t=[];for(var n in Object(e))He.call(e,n)&&"constructor"!=n&&t.push(n);return t};var Ke=function(e){return null!=e&&Te(e.length)&&!M(e)};var Qe=function(e){return Ke(e)?Ve(e):Je(e)};var Xe=function(e,t){return e&&Ee(t,Qe(t),e)};var Ze=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t},et=Object.prototype.hasOwnProperty;var tt=function(e){if(!A(e))return Ze(e);var t=qe(e),n=[];for(var r in e)("constructor"!=r||!t&&et.call(e,r))&&n.push(r);return n};var nt=function(e){return Ke(e)?Ve(e,!0):tt(e)};var rt=function(e,t){return e&&Ee(t,nt(t),e)},ot=n(function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,o=r&&r.exports===n?w.Buffer:void 0,i=o?o.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=i?i(n):new e.constructor(n);return e.copy(r),r}});var it=function(e,t){var n=-1,r=e.length;for(t=t||Array(r);++n<r;)t[n]=e[n];return t};var at=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i};function ut(){return[]}var ct=Object.prototype.propertyIsEnumerable,ft=Object.getOwnPropertySymbols,st=ft?function(t){return null==t?[]:(t=Object(t),at(ft(t),function(e){return ct.call(t,e)}))}:ut;var dt=function(e,t){return Ee(e,st(e),t)};var ht=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e},lt=Ye(Object.getPrototypeOf,Object),vt=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)ht(t,st(e)),e=lt(e);return t}:ut;var pt=function(e,t){return Ee(e,vt(e),t)};var gt=function(e,t,n){var r=t(e);return Se(e)?r:ht(r,n(e))};var yt=function(e){return gt(e,Qe,st)};var bt=function(e){return gt(e,nt,vt)},mt=H(w,"DataView"),wt=H(w,"Promise"),_t=H(w,"Set"),Et=H(w,"WeakMap"),jt="[object Map]",xt="[object Promise]",kt="[object Set]",Ot="[object WeakMap]",Nt="[object DataView]",It=D(mt),Lt=D(J),St=D(wt),Pt=D(_t),At=D(Et),Ct=P;(mt&&Ct(new mt(new ArrayBuffer(1)))!=Nt||J&&Ct(new J)!=jt||wt&&Ct(wt.resolve())!=xt||_t&&Ct(new _t)!=kt||Et&&Ct(new Et)!=Ot)&&(Ct=function(e){var t=P(e),n="[object Object]"==t?e.constructor:void 0,r=n?D(n):"";if(r)switch(r){case It:return Nt;case Lt:return jt;case St:return xt;case Pt:return kt;case At:return Ot}return t});var Mt=Ct,Tt=Object.prototype.hasOwnProperty;var Rt=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Tt.call(e,"index")&&(n.index=e.index,n.input=e.input),n},Ft=w.Uint8Array;var zt=function(e){var t=new e.constructor(e.byteLength);return new Ft(t).set(new Ft(e)),t};var Dt=function(e,t){var n=t?zt(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)},Gt=/\w*$/;var Ut=function(e){var t=new e.constructor(e.source,Gt.exec(e));return t.lastIndex=e.lastIndex,t},Bt=_?_.prototype:void 0,Vt=Bt?Bt.valueOf:void 0;var $t=function(e){return Vt?Object(Vt.call(e)):{}};var qt=function(e,t){var n=t?zt(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)};var Yt=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return zt(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return Dt(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return qt(e,n);case"[object Map]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return Ut(e);case"[object Set]":return new r;case"[object Symbol]":return $t(e)}},Wt=Object.create;function Ht(){}var Jt=function(e){if(!A(e))return{};if(Wt)return Wt(e);Ht.prototype=e;var t=new Ht;return Ht.prototype=void 0,t};var Kt=function(e){return"function"!=typeof e.constructor||qe(e)?{}:Jt(lt(e))};function Qt(e){return xe(e)&&"[object Map]"==Mt(e)}var Xt=De&&De.isMap,Zt=Xt?ze(Xt):Qt;function en(e){return xe(e)&&"[object Set]"==Mt(e)}var tn=De&&De.isSet,nn=tn?ze(tn):en,rn=1,on=2,an=4,un="[object Arguments]",cn="[object Function]",fn="[object GeneratorFunction]",sn="[object Object]",dn={};dn[un]=dn["[object Array]"]=dn["[object ArrayBuffer]"]=dn["[object DataView]"]=dn["[object Boolean]"]=dn["[object Date]"]=dn["[object Float32Array]"]=dn["[object Float64Array]"]=dn["[object Int8Array]"]=dn["[object Int16Array]"]=dn["[object Int32Array]"]=dn["[object Map]"]=dn["[object Number]"]=dn[sn]=dn["[object RegExp]"]=dn["[object Set]"]=dn["[object String]"]=dn["[object Symbol]"]=dn["[object Uint8Array]"]=dn["[object Uint8ClampedArray]"]=dn["[object Uint16Array]"]=dn["[object Uint32Array]"]=!0,dn["[object Error]"]=dn[cn]=dn["[object WeakMap]"]=!1;var hn=function n(r,o,i,e,t,a){var u,c=o&rn,f=o&on,s=o&an;if(i&&(u=t?i(r,e,t,a):i(r)),void 0!==u)return u;if(!A(r))return r;var d=Se(r);if(d){if(u=Rt(r),!c)return it(r,u)}else{var h=Mt(r),l=h==cn||h==fn;if(Ae(r))return ot(r,c);if(h==sn||h==un||l&&!t){if(u=f||l?{}:Kt(r),!c)return f?pt(r,rt(u,r)):dt(r,Xe(u,r))}else{if(!dn[h])return t?r:{};u=Yt(r,h,c)}}var v=(a=a||new ge).get(r);if(v)return v;if(a.set(r,u),nn(r))return r.forEach(function(e){u.add(n(e,o,i,e,r,a))}),u;if(Zt(r))return r.forEach(function(e,t){u.set(t,n(e,o,i,t,r,a))}),u;var p=s?f?bt:yt:f?keysIn:Qe,g=d?void 0:p(r);return ye(g||r,function(e,t){g&&(e=r[t=e]),_e(u,t,n(e,o,i,t,r,a))}),u};function ln(e){return hn(e,4)}var vn=function(e){return function(){return e}};var pn=function(c){return function(e,t,n){for(var r=-1,o=Object(e),i=n(e),a=i.length;a--;){var u=i[c?a:++r];if(!1===t(o[u],u,o))break}return e}}();var gn=function(e,t){return e&&pn(e,t,Qe)};var yn=function(i,a){return function(e,t){if(null==e)return e;if(!Ke(e))return i(e,t);for(var n=e.length,r=a?n:-1,o=Object(e);(a?r--:++r<n)&&!1!==t(o[r],r,o););return e}}(gn);function bn(e){return e}var mn=function(e){return"function"==typeof e?e:bn};function wn(e,t){return(Se(e)?ye:yn)(e,mn(t))}var _n=wn;function En(e,r){var o=[];return yn(e,function(e,t,n){r(e,t,n)&&o.push(e)}),o}function jn(e){return this.__data__.has(e)}function xn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new le;++t<n;)this.add(e[t])}xn.prototype.add=xn.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},xn.prototype.has=jn;var kn=xn;var On=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1};var Nn=function(e,t){return e.has(t)};var In=function(e,t,n,r,o,i){var a=1&n,u=e.length,c=t.length;if(u!=c&&!(a&&u<c))return!1;var f=i.get(e);if(f&&i.get(t))return f==t;var s=-1,d=!0,h=2&n?new kn:void 0;for(i.set(e,t),i.set(t,e);++s<u;){var l=e[s],v=t[s];if(r)var p=a?r(v,l,s,t,e,i):r(l,v,s,e,t,i);if(void 0!==p){if(p)continue;d=!1;break}if(h){if(!On(t,function(e,t){if(!Nn(h,t)&&(l===e||o(l,e,n,r,i)))return h.push(t)})){d=!1;break}}else if(l!==v&&!o(l,v,n,r,i)){d=!1;break}}return i.delete(e),i.delete(t),d};function Ln(e){var n=-1,r=Array(e.size);return e.forEach(function(e,t){r[++n]=[t,e]}),r}var Sn=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n},Pn=_?_.prototype:void 0,An=Pn?Pn.valueOf:void 0;var Cn=function(e,t,n,r,o,i,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!i(new Ft(e),new Ft(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return d(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var u=Ln;case"[object Set]":var c=1&r;if(u=u||Sn,e.size!=t.size&&!c)return!1;var f=a.get(e);if(f)return f==t;r|=2,a.set(e,t);var s=In(u(e),u(t),r,o,i,a);return a.delete(e),s;case"[object Symbol]":if(An)return An.call(e)==An.call(t)}return!1},Mn=Object.prototype.hasOwnProperty;var Tn=function(e,t,n,r,o,i){var a=1&n,u=yt(e),c=u.length;if(c!=yt(t).length&&!a)return!1;for(var f=c;f--;){var s=u[f];if(!(a?s in t:Mn.call(t,s)))return!1}var d=i.get(e);if(d&&i.get(t))return d==t;var h=!0;i.set(e,t),i.set(t,e);for(var l=a;++f<c;){var v=e[s=u[f]],p=t[s];if(r)var g=a?r(p,v,s,t,e,i):r(v,p,s,e,t,i);if(!(void 0===g?v===p||o(v,p,n,r,i):g)){h=!1;break}l=l||"constructor"==s}if(h&&!l){var y=e.constructor,b=t.constructor;y!=b&&"constructor"in e&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b)&&(h=!1)}return i.delete(e),i.delete(t),h},Rn="[object Arguments]",Fn="[object Array]",zn="[object Object]",Dn=Object.prototype.hasOwnProperty;var Gn=function(e,t,n,r,o,i){var a=Se(e),u=Se(t),c=a?Fn:Mt(e),f=u?Fn:Mt(t),s=(c=c==Rn?zn:c)==zn,d=(f=f==Rn?zn:f)==zn,h=c==f;if(h&&Ae(e)){if(!Ae(t))return!1;s=!(a=!0)}if(h&&!s)return i=i||new ge,a||Ue(e)?In(e,t,n,r,o,i):Cn(e,t,c,n,r,o,i);if(!(1&n)){var l=s&&Dn.call(e,"__wrapped__"),v=d&&Dn.call(t,"__wrapped__");if(l||v)return o(l?e.value():e,v?t.value():t,n,r,i=i||new ge)}return h&&(i=i||new ge,Tn(e,t,n,r,o,i))};var Un=function e(t,n,r,o,i){return t===n||(null==t||null==n||!xe(t)&&!xe(n)?t!=t&&n!=n:Gn(t,n,r,o,e,i))};var Bn=function(e,t,n,r){var o=n.length,i=o,a=!r;if(null==e)return!i;for(e=Object(e);o--;){var u=n[o];if(a&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++o<i;){var c=(u=n[o])[0],f=e[c],s=u[1];if(a&&u[2]){if(void 0===f&&!(c in e))return!1}else{var d=new ge;if(r)var h=r(f,s,c,e,t,d);if(!(void 0===h?Un(s,f,3,r,d):h))return!1}}return!0};var Vn=function(e){return e==e&&!A(e)};var $n=function(e){for(var t=Qe(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,Vn(o)]}return t};var qn=function(t,n){return function(e){return null!=e&&(e[t]===n&&(void 0!==n||t in Object(e)))}};var Yn=function(t){var n=$n(t);return 1==n.length&&n[0][2]?qn(n[0][0],n[0][1]):function(e){return e===t||Bn(e,t,n)}};var Wn=function(e){return"symbol"==typeof e||xe(e)&&"[object Symbol]"==P(e)},Hn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Jn=/^\w*$/;var Kn=function(e,t){if(Se(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Wn(e))||(Jn.test(e)||!Hn.test(e)||null!=t&&e in Object(t))},Qn="Expected a function";function Xn(o,i){if("function"!=typeof o||null!=i&&"function"!=typeof i)throw new TypeError(Qn);var a=function(){var e=arguments,t=i?i.apply(this,e):e[0],n=a.cache;if(n.has(t))return n.get(t);var r=o.apply(this,e);return a.cache=n.set(t,r)||n,r};return a.cache=new(Xn.Cache||le),a}Xn.Cache=le;var Zn=Xn;var er=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,tr=/\\(\\)?/g,nr=function(e){var t=Zn(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}(function(e){var o=[];return 46===e.charCodeAt(0)&&o.push(""),e.replace(er,function(e,t,n,r){o.push(n?r.replace(tr,"$1"):t||e)}),o});var rr=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o},or=1/0,ir=_?_.prototype:void 0,ar=ir?ir.toString:void 0;var ur=function e(t){if("string"==typeof t)return t;if(Se(t))return rr(t,e)+"";if(Wn(t))return ar?ar.call(t):"";var n=t+"";return"0"==n&&1/t==-or?"-0":n};var cr=function(e){return null==e?"":ur(e)};var fr=function(e,t){return Se(e)?e:Kn(e,t)?[e]:nr(cr(e))};var sr=function(e){if("string"==typeof e||Wn(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t};var dr=function(e,t){for(var n=0,r=(t=fr(t,e)).length;null!=e&&n<r;)e=e[sr(t[n++])];return n&&n==r?e:void 0};var hr=function(e,t,n){var r=null==e?void 0:dr(e,t);return void 0===r?n:r};function lr(e,t){return null!=e&&t in Object(e)}var vr=function(e,t,n){for(var r=-1,o=(t=fr(t,e)).length,i=!1;++r<o;){var a=sr(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&Te(o)&&Me(a,o)&&(Se(e)||Le(e))};var pr=function(e,t){return null!=e&&vr(e,t,lr)};var gr=function(n,r){return Kn(n)&&Vn(r)?qn(sr(n),r):function(e){var t=hr(e,n);return void 0===t&&t===r?pr(e,n):Un(r,t,3)}};var yr=function(t){return function(e){return null==e?void 0:e[t]}};var br=function(t){return function(e){return dr(e,t)}};var mr=function(e){return Kn(e)?yr(sr(e)):br(e)};var wr=function(e){return"function"==typeof e?e:null==e?bn:"object"==typeof e?Se(e)?gr(e[0],e[1]):Yn(e):mr(e)};function _r(e,t){return(Se(e)?at:En)(e,wr(t,3))}var Er=Object.prototype.hasOwnProperty;function jr(e,t){return null!=e&&Er.call(e,t)}function xr(e,t){return null!=e&&vr(e,t,jr)}var kr=Object.prototype.hasOwnProperty;function Or(e){if(null==e)return!0;if(Ke(e)&&(Se(e)||"string"==typeof e||"function"==typeof e.splice||Ae(e)||Ue(e)||Le(e)))return!e.length;var t=Mt(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(qe(e))return!Je(e).length;for(var n in e)if(kr.call(e,n))return!1;return!0}function Nr(e){return void 0===e}var Ir=function(e,r){var o=-1,i=Ke(e)?Array(e.length):[];return yn(e,function(e,t,n){i[++o]=r(e,t,n)}),i};function Lr(e,t){return(Se(e)?rr:Ir)(e,wr(t,3))}function Sr(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function Pr(e,r,o,i,t){return t(e,function(e,t,n){o=i?(i=!1,e):r(o,e,t,n)}),o}function Ar(e,t,n){var r=Se(e)?Sr:Pr,o=arguments.length<3;return r(e,wr(t,4),n,o,yn)}var Cr=function(e){return"string"==typeof e||!Se(e)&&xe(e)&&"[object String]"==P(e)},Mr=yr("length"),Tr=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var Rr=function(e){return Tr.test(e)},Fr="\\ud800-\\udfff",zr="["+Fr+"]",Dr="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Gr="\\ud83c[\\udffb-\\udfff]",Ur="[^"+Fr+"]",Br="(?:\\ud83c[\\udde6-\\uddff]){2}",Vr="[\\ud800-\\udbff][\\udc00-\\udfff]",$r="(?:"+Dr+"|"+Gr+")"+"?",qr="[\\ufe0e\\ufe0f]?",Yr=qr+$r+("(?:\\u200d(?:"+[Ur,Br,Vr].join("|")+")"+qr+$r+")*"),Wr="(?:"+[Ur+Dr+"?",Dr,Br,Vr,zr].join("|")+")",Hr=RegExp(Gr+"(?="+Gr+")|"+Wr+Yr,"g");var Jr=function(e){for(var t=Hr.lastIndex=0;Hr.test(e);)++t;return t};var Kr=function(e){return Rr(e)?Jr(e):Mr(e)};function Qr(e){if(null==e)return 0;if(Ke(e))return Cr(e)?Kr(e):e.length;var t=Mt(e);return"[object Map]"==t||"[object Set]"==t?e.size:Je(e).length}function Xr(e,r,o){var t=Se(e),n=t||Ae(e)||Ue(e);if(r=wr(r,4),null==o){var i=e&&e.constructor;o=n?t?new i:[]:A(e)&&M(i)?Jt(lt(e)):{}}return(n?ye:gn)(e,function(e,t,n){return r(o,e,t,n)}),o}var Zr=_?_.isConcatSpreadable:void 0;var eo=function(e){return Se(e)||Le(e)||!!(Zr&&e&&e[Zr])};var to=function e(t,n,r,o,i){var a=-1,u=t.length;for(r=r||eo,i=i||[];++a<u;){var c=t[a];0<n&&r(c)?1<n?e(c,n-1,r,o,i):ht(i,c):o||(i[i.length]=c)}return i};var no=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},ro=Math.max;var oo=function(i,a,u){return a=ro(void 0===a?i.length-1:a,0),function(){for(var e=arguments,t=-1,n=ro(e.length-a,0),r=Array(n);++t<n;)r[t]=e[a+t];t=-1;for(var o=Array(a+1);++t<a;)o[t]=e[t];return o[a]=u(r),no(i,this,o)}},io=be?function(e,t){return be(e,"toString",{configurable:!0,enumerable:!1,value:vn(t),writable:!0})}:bn,ao=Date.now;var uo=function(n){var r=0,o=0;return function(){var e=ao(),t=16-(e-o);if(o=e,0<t){if(800<=++r)return arguments[0]}else r=0;return n.apply(void 0,arguments)}}(io);var co=function(e,t){return uo(oo(e,t,bn),e+"")};var fo=function(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1};function so(e){return e!=e}var ho=function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1};var lo=function(e,t,n){return t==t?ho(e,t,n):fo(e,so,n)};function vo(e,t){return!!(null==e?0:e.length)&&-1<lo(e,t,0)}function po(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}function go(){}var yo=_t&&1/Sn(new _t([,-0]))[1]==1/0?function(e){return new _t(e)}:go;var bo=function(e,t,n){var r=-1,o=vo,i=e.length,a=!0,u=[],c=u;if(n)a=!1,o=po;else if(200<=i){var f=t?null:yo(e);if(f)return Sn(f);a=!1,o=Nn,c=new kn}else c=t?[]:u;e:for(;++r<i;){var s=e[r],d=t?t(s):s;if(s=n||0!==s?s:0,a&&d==d){for(var h=c.length;h--;)if(c[h]===d)continue e;t&&c.push(d),u.push(s)}else o(c,d,n)||(c!==u&&c.push(d),u.push(s))}return u};var mo=function(e){return xe(e)&&Ke(e)},wo=co(function(e){return bo(to(e,1,mo,!0))});var _o=function(t,e){return rr(e,function(e){return t[e]})};function Eo(e){return null==e?[]:_o(e,Qe(e))}var jo;try{jo={clone:ln,constant:vn,each:_n,filter:_r,has:xr,isArray:Se,isEmpty:Or,isFunction:M,isUndefined:Nr,keys:Qe,map:Lr,reduce:Ar,size:Qr,transform:Xr,union:wo,values:Eo}}catch(e){}var xo=jo=jo||window._,ko=Lo,Oo="\0",No="\0",Io="";function Lo(e){this._isDirected=!xo.has(e,"directed")||e.directed,this._isMultigraph=!!xo.has(e,"multigraph")&&e.multigraph,this._isCompound=!!xo.has(e,"compound")&&e.compound,this._label=void 0,this._defaultNodeLabelFn=xo.constant(void 0),this._defaultEdgeLabelFn=xo.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[No]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function So(e,t){e[t]?e[t]++:e[t]=1}function Po(e,t){--e[t]||delete e[t]}function Ao(e,t,n,r){var o=""+t,i=""+n;if(!e&&i<o){var a=o;o=i,i=a}return o+Io+i+Io+(xo.isUndefined(r)?Oo:r)}function Co(e,t){return Ao(e,t.v,t.w,t.name)}Lo.prototype._nodeCount=0,Lo.prototype._edgeCount=0,Lo.prototype.isDirected=function(){return this._isDirected},Lo.prototype.isMultigraph=function(){return this._isMultigraph},Lo.prototype.isCompound=function(){return this._isCompound},Lo.prototype.setGraph=function(e){return this._label=e,this},Lo.prototype.graph=function(){return this._label},Lo.prototype.setDefaultNodeLabel=function(e){return xo.isFunction(e)||(e=xo.constant(e)),this._defaultNodeLabelFn=e,this},Lo.prototype.nodeCount=function(){return this._nodeCount},Lo.prototype.nodes=function(){return xo.keys(this._nodes)},Lo.prototype.sources=function(){var t=this;return xo.filter(this.nodes(),function(e){return xo.isEmpty(t._in[e])})},Lo.prototype.sinks=function(){var t=this;return xo.filter(this.nodes(),function(e){return xo.isEmpty(t._out[e])})},Lo.prototype.setNodes=function(e,t){var n=arguments,r=this;return xo.each(e,function(e){1<n.length?r.setNode(e,t):r.setNode(e)}),this},Lo.prototype.setNode=function(e,t){return xo.has(this._nodes,e)?1<arguments.length&&(this._nodes[e]=t):(this._nodes[e]=1<arguments.length?t:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]=No,this._children[e]={},this._children[No][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount),this},Lo.prototype.node=function(e){return this._nodes[e]},Lo.prototype.hasNode=function(e){return xo.has(this._nodes,e)},Lo.prototype.removeNode=function(e){var t=this;if(xo.has(this._nodes,e)){var n=function(e){t.removeEdge(t._edgeObjs[e])};delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],xo.each(this.children(e),function(e){t.setParent(e)}),delete this._children[e]),xo.each(xo.keys(this._in[e]),n),delete this._in[e],delete this._preds[e],xo.each(xo.keys(this._out[e]),n),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this},Lo.prototype.setParent=function(e,t){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(xo.isUndefined(t))t=No;else{for(var n=t+="";!xo.isUndefined(n);n=this.parent(n))if(n===e)throw new Error("Setting "+t+" as parent of "+e+" would create a cycle");this.setNode(t)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=t,this._children[t][e]=!0,this},Lo.prototype._removeFromParentsChildList=function(e){delete this._children[this._parent[e]][e]},Lo.prototype.parent=function(e){if(this._isCompound){var t=this._parent[e];if(t!==No)return t}},Lo.prototype.children=function(e){if(xo.isUndefined(e)&&(e=No),this._isCompound){var t=this._children[e];if(t)return xo.keys(t)}else{if(e===No)return this.nodes();if(this.hasNode(e))return[]}},Lo.prototype.predecessors=function(e){var t=this._preds[e];if(t)return xo.keys(t)},Lo.prototype.successors=function(e){var t=this._sucs[e];if(t)return xo.keys(t)},Lo.prototype.neighbors=function(e){var t=this.predecessors(e);if(t)return xo.union(t,this.successors(e))},Lo.prototype.isLeaf=function(e){return 0===(this.isDirected()?this.successors(e):this.neighbors(e)).length},Lo.prototype.filterNodes=function(n){var r=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});r.setGraph(this.graph());var o=this;xo.each(this._nodes,function(e,t){n(t)&&r.setNode(t,e)}),xo.each(this._edgeObjs,function(e){r.hasNode(e.v)&&r.hasNode(e.w)&&r.setEdge(e,o.edge(e))});var i={};return this._isCompound&&xo.each(r.nodes(),function(e){r.setParent(e,function e(t){var n=o.parent(t);return void 0===n||r.hasNode(n)?i[t]=n:n in i?i[n]:e(n)}(e))}),r},Lo.prototype.setDefaultEdgeLabel=function(e){return xo.isFunction(e)||(e=xo.constant(e)),this._defaultEdgeLabelFn=e,this},Lo.prototype.edgeCount=function(){return this._edgeCount},Lo.prototype.edges=function(){return xo.values(this._edgeObjs)},Lo.prototype.setPath=function(e,n){var r=this,o=arguments;return xo.reduce(e,function(e,t){return 1<o.length?r.setEdge(e,t,n):r.setEdge(e,t),t}),this},Lo.prototype.setEdge=function(){var e,t,n,r,o=!1,i=arguments[0];"object"==typeof i&&null!==i&&"v"in i?(e=i.v,t=i.w,n=i.name,2===arguments.length&&(r=arguments[1],o=!0)):(e=i,t=arguments[1],n=arguments[3],2<arguments.length&&(r=arguments[2],o=!0)),e=""+e,t=""+t,xo.isUndefined(n)||(n=""+n);var a=Ao(this._isDirected,e,t,n);if(xo.has(this._edgeLabels,a))return o&&(this._edgeLabels[a]=r),this;if(!xo.isUndefined(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(t),this._edgeLabels[a]=o?r:this._defaultEdgeLabelFn(e,t,n);var u=function(e,t,n,r){var o=""+t,i=""+n;if(!e&&i<o){var a=o;o=i,i=a}var u={v:o,w:i};r&&(u.name=r);return u}(this._isDirected,e,t,n);return e=u.v,t=u.w,Object.freeze(u),this._edgeObjs[a]=u,So(this._preds[t],e),So(this._sucs[e],t),this._in[t][a]=u,this._out[e][a]=u,this._edgeCount++,this},Lo.prototype.edge=function(e,t,n){var r=1===arguments.length?Co(this._isDirected,e):Ao(this._isDirected,e,t,n);return this._edgeLabels[r]},Lo.prototype.hasEdge=function(e,t,n){var r=1===arguments.length?Co(this._isDirected,e):Ao(this._isDirected,e,t,n);return xo.has(this._edgeLabels,r)},Lo.prototype.removeEdge=function(e,t,n){var r=1===arguments.length?Co(this._isDirected,arguments[0]):Ao(this._isDirected,e,t,n),o=this._edgeObjs[r];return o&&(e=o.v,t=o.w,delete this._edgeLabels[r],delete this._edgeObjs[r],Po(this._preds[t],e),Po(this._sucs[e],t),delete this._in[t][r],delete this._out[e][r],this._edgeCount--),this},Lo.prototype.inEdges=function(e,t){var n=this._in[e];if(n){var r=xo.values(n);return t?xo.filter(r,function(e){return e.v===t}):r}},Lo.prototype.outEdges=function(e,t){var n=this._out[e];if(n){var r=xo.values(n);return t?xo.filter(r,function(e){return e.w===t}):r}},Lo.prototype.nodeEdges=function(e,t){var n=this.inEdges(e,t);if(n)return n.concat(this.outEdges(e,t))};var Mo={Graph:ko,version:"2.1.7"},To={write:function(e){var t={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:function(o){return xo.map(o.nodes(),function(e){var t=o.node(e),n=o.parent(e),r={v:e};return xo.isUndefined(t)||(r.value=t),xo.isUndefined(n)||(r.parent=n),r})}(e),edges:function(r){return xo.map(r.edges(),function(e){var t=r.edge(e),n={v:e.v,w:e.w};return xo.isUndefined(e.name)||(n.name=e.name),xo.isUndefined(t)||(n.value=t),n})}(e)};xo.isUndefined(e.graph())||(t.value=xo.clone(e.graph()));return t},read:function(e){var t=new ko(e.options).setGraph(e.value);return xo.each(e.nodes,function(e){t.setNode(e.v,e.value),e.parent&&t.setParent(e.v,e.parent)}),xo.each(e.edges,function(e){t.setEdge({v:e.v,w:e.w,name:e.name},e.value)}),t}};function Ro(t){var n,r={},o=[];function i(e){xo.has(r,e)||(r[e]=!0,n.push(e),xo.each(t.successors(e),i),xo.each(t.predecessors(e),i))}return xo.each(t.nodes(),function(e){n=[],i(e),n.length&&o.push(n)}),o}var Fo=zo;function zo(){this._arr=[],this._keyIndices={}}zo.prototype.size=function(){return this._arr.length},zo.prototype.keys=function(){return this._arr.map(function(e){return e.key})},zo.prototype.has=function(e){return xo.has(this._keyIndices,e)},zo.prototype.priority=function(e){var t=this._keyIndices[e];if(void 0!==t)return this._arr[t].priority},zo.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},zo.prototype.add=function(e,t){var n=this._keyIndices;if(e=String(e),xo.has(n,e))return!1;var r=this._arr,o=r.length;return n[e]=o,r.push({key:e,priority:t}),this._decrease(o),!0},zo.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var e=this._arr.pop();return delete this._keyIndices[e.key],this._heapify(0),e.key},zo.prototype.decrease=function(e,t){var n=this._keyIndices[e];if(t>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+e+" Old: "+this._arr[n].priority+" New: "+t);this._arr[n].priority=t,this._decrease(n)},zo.prototype._heapify=function(e){var t=this._arr,n=2*e,r=1+n,o=e;n<t.length&&(o=t[n].priority<t[o].priority?n:o,r<t.length&&(o=t[r].priority<t[o].priority?r:o),o!==e&&(this._swap(e,o),this._heapify(o)))},zo.prototype._decrease=function(e){for(var t,n=this._arr,r=n[e].priority;0!==e&&!(n[t=e>>1].priority<r);)this._swap(e,t),e=t},zo.prototype._swap=function(e,t){var n=this._arr,r=this._keyIndices,o=n[e],i=n[t];n[e]=i,n[t]=o,r[i.key]=e,r[o.key]=t};var Do=function(t,e,n,r){return function(e,n,i,t){function r(e){var t=e.v!==a?e.v:e.w,n=c[t],r=i(e),o=u.distance+r;if(r<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+e+" Weight: "+r);o<n.distance&&(n.distance=o,n.predecessor=a,f.decrease(t,o))}var a,u,c={},f=new Fo;e.nodes().forEach(function(e){var t=e===n?0:Number.POSITIVE_INFINITY;c[e]={distance:t},f.add(e,t)});for(;0<f.size()&&(a=f.removeMin(),(u=c[a]).distance!==Number.POSITIVE_INFINITY);)t(a).forEach(r);return c}(t,String(e),n||Go,r||function(e){return t.outEdges(e)})},Go=xo.constant(1);function Uo(n,r,o){return xo.transform(n.nodes(),function(e,t){e[t]=Do(n,t,r,o)},{})}var Bo=function(i){var a=0,u=[],c={},f=[];return i.nodes().forEach(function(e){xo.has(c,e)||!function t(e){var n=c[e]={onStack:!0,lowlink:a,index:a++};u.push(e);i.successors(e).forEach(function(e){xo.has(c,e)?c[e].onStack&&(n.lowlink=Math.min(n.lowlink,c[e].index)):(t(e),n.lowlink=Math.min(n.lowlink,c[e].lowlink))});if(n.lowlink===n.index){for(var r,o=[];r=u.pop(),c[r].onStack=!1,o.push(r),e!==r;);f.push(o)}}(e)}),f};function Vo(t){return xo.filter(Bo(t),function(e){return 1<e.length||1===e.length&&t.hasEdge(e[0],e[0])})}function $o(t,e,n){return function(e,o,t){var c={},n=e.nodes();return n.forEach(function(r){c[r]={},c[r][r]={distance:0},n.forEach(function(e){r!==e&&(c[r][e]={distance:Number.POSITIVE_INFINITY})}),t(r).forEach(function(e){var t=e.v===r?e.w:e.v,n=o(e);c[r][t]={distance:n,predecessor:r}})}),n.forEach(function(a){var u=c[a];n.forEach(function(e){var i=c[e];n.forEach(function(e){var t=i[a],n=u[e],r=i[e],o=t.distance+n.distance;o<r.distance&&(r.distance=o,r.predecessor=n.predecessor)})})}),c}(t,e||qo,n||function(e){return t.outEdges(e)})}var qo=xo.constant(1);var Yo=Wo;function Wo(n){var r={},o={},i=[];if(xo.each(n.sinks(),function e(t){if(xo.has(o,t))throw new Ho;xo.has(r,t)||(o[t]=!0,r[t]=!0,xo.each(n.predecessors(t),e),delete o[t],i.push(t))}),xo.size(r)!==n.nodeCount())throw new Ho;return i}function Ho(){}(Wo.CycleException=Ho).prototype=new Error;var Jo=function(t,e,n){xo.isArray(e)||(e=[e]);var r=(t.isDirected()?t.successors:t.neighbors).bind(t),o=[],i={};return xo.each(e,function(e){if(!t.hasNode(e))throw new Error("Graph does not have node: "+e);!function t(n,e,r,o,i,a){xo.has(o,e)||(o[e]=!0,r||a.push(e),xo.each(i(e),function(e){t(n,e,r,o,i,a)}),r&&a.push(e))}(t,e,"post"===n,i,r,o)}),o};var Ko,Qo={Graph:Mo.Graph,json:To,alg:{components:Ro,dijkstra:Do,dijkstraAll:Uo,findCycles:Vo,floydWarshall:$o,isAcyclic:function(e){try{Yo(e)}catch(e){if(e instanceof Yo.CycleException)return!1;throw e}return!0},postorder:function(e,t){return Jo(e,t,"post")},preorder:function(e,t){return Jo(e,t,"pre")},prim:function(e,o){var i,t=new ko,a={},u=new Fo;function n(e){var t=e.v===i?e.w:e.v,n=u.priority(t);if(void 0!==n){var r=o(e);r<n&&(a[t]=i,u.decrease(t,r))}}if(0===e.nodeCount())return t;xo.each(e.nodes(),function(e){u.add(e,Number.POSITIVE_INFINITY),t.setNode(e)}),u.decrease(e.nodes()[0],0);var r=!1;for(;0<u.size();){if(i=u.removeMin(),xo.has(a,i))t.setEdge(i,a[i]);else{if(r)throw new Error("Input graph is not connected: "+e);r=!0}e.nodeEdges(i).forEach(n)}return t},tarjan:Bo,topsort:Yo},version:Mo.version};try{Ko=Qo}catch(e){}var Xo=Ko=Ko||window.graphlib;function Zo(e){return hn(e,5)}var ei=function(e,t,n){if(!A(n))return!1;var r=typeof t;return!!("number"==r?Ke(n)&&Me(t,n.length):"string"==r&&t in n)&&d(n[t],e)},ti=Object.prototype,ni=ti.hasOwnProperty,ri=co(function(e,t){e=Object(e);var n=-1,r=t.length,o=2<r?t[2]:void 0;for(o&&ei(t[0],t[1],o)&&(r=1);++n<r;)for(var i=t[n],a=nt(i),u=-1,c=a.length;++u<c;){var f=a[u],s=e[f];(void 0===s||d(s,ti[f])&&!ni.call(e,f))&&(e[f]=i[f])}return e});var oi=function(a){return function(e,t,n){var r=Object(e);if(!Ke(e)){var o=wr(t,3);e=Qe(e),t=function(e){return o(r[e],e,r)}}var i=a(e,t,n);return-1<i?r[o?e[i]:i]:void 0}},ii=/^\s+|\s+$/g,ai=/^[-+]0x[0-9a-f]+$/i,ui=/^0b[01]+$/i,ci=/^0o[0-7]+$/i,fi=parseInt;var si=function(e){if("number"==typeof e)return e;if(Wn(e))return NaN;if(A(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=A(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(ii,"");var n=ui.test(e);return n||ci.test(e)?fi(e.slice(2),n?2:8):ai.test(e)?NaN:+e};var di=function(e){return e?(e=si(e))!==1/0&&e!==-1/0?e==e?e:0:17976931348623157e292*(e<0?-1:1):0===e?e:0};var hi=function(e){var t=di(e),n=t%1;return t==t?n?t-n:t:0},li=Math.max;var vi=oi(function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:hi(n);return o<0&&(o=li(r+o,0)),fo(e,wr(t,3),o)});function pi(e){return(null==e?0:e.length)?to(e,1):[]}function gi(e,t){return null==e?e:pn(e,mn(t),nt)}function yi(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}function bi(e,r){var o={};return r=wr(r,3),gn(e,function(e,t,n){me(o,t,r(e,t,n))}),o}var mi=function(e,t,n){for(var r=-1,o=e.length;++r<o;){var i=e[r],a=t(i);if(null!=a&&(void 0===u?a==a&&!Wn(a):n(a,u)))var u=a,c=i}return c};function wi(e,t){return t<e}function _i(e){return e&&e.length?mi(e,bn,wi):void 0}var Ei=function(e,t,n){(void 0===n||d(e[t],n))&&(void 0!==n||t in e)||me(e,t,n)},ji=Function.prototype,xi=Object.prototype,ki=ji.toString,Oi=xi.hasOwnProperty,Ni=ki.call(Object);var Ii=function(e){if(!xe(e)||"[object Object]"!=P(e))return!1;var t=lt(e);if(null===t)return!0;var n=Oi.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&ki.call(n)==Ni};var Li=function(e,t){if("__proto__"!=t)return e[t]};var Si=function(e){return Ee(e,nt(e))};var Pi=function(e,t,n,r,o,i,a){var u=Li(e,n),c=Li(t,n),f=a.get(c);if(f)Ei(e,n,f);else{var s=i?i(u,c,n+"",e,t,a):void 0,d=void 0===s;if(d){var h=Se(c),l=!h&&Ae(c),v=!h&&!l&&Ue(c);s=c,h||l||v?s=Se(u)?u:mo(u)?it(u):l?ot(c,!(d=!1)):v?qt(c,!(d=!1)):[]:Ii(c)||Le(c)?Le(s=u)?s=Si(u):A(u)&&!M(u)||(s=Kt(c)):d=!1}d&&(a.set(c,s),o(s,c,r,i,a),a.delete(c)),Ei(e,n,s)}};var Ai=function r(o,i,a,u,c){o!==i&&pn(i,function(e,t){if(A(e))c=c||new ge,Pi(o,i,t,a,r,u,c);else{var n=u?u(Li(o,t),e,t+"",o,i,c):void 0;void 0===n&&(n=e),Ei(o,t,n)}},nt)};var Ci=function(u){return co(function(e,t){var n=-1,r=t.length,o=1<r?t[r-1]:void 0,i=2<r?t[2]:void 0;for(o=3<u.length&&"function"==typeof o?(r--,o):void 0,i&&ei(t[0],t[1],i)&&(o=r<3?void 0:o,r=1),e=Object(e);++n<r;){var a=t[n];a&&u(e,a,n,o)}return e})}(function(e,t,n){Ai(e,t,n)});function Mi(e,t){return e<t}function Ti(e){return e&&e.length?mi(e,bn,Mi):void 0}function Ri(e,t){return e&&e.length?mi(e,wr(t,2),Mi):void 0}function Fi(){return w.Date.now()}var zi=function(e,t,n,r){if(!A(e))return e;for(var o=-1,i=(t=fr(t,e)).length,a=i-1,u=e;null!=u&&++o<i;){var c=sr(t[o]),f=n;if(o!=a){var s=u[c];void 0===(f=r?r(s,c,u):void 0)&&(f=A(s)?s:Me(t[o+1])?[]:{})}_e(u,c,f),u=u[c]}return e};var Di=function(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var a=t[r],u=dr(e,a);n(u,a)&&zi(i,fr(a,e),u)}return i};var Gi=function(n,e){return Di(n,e,function(e,t){return pr(n,t)})};var Ui=function(e){return uo(oo(e,void 0,pi),e+"")}(function(e,t){return null==e?{}:Gi(e,t)}),Bi=Math.ceil,Vi=Math.max;var $i=function(e,t,n,r){for(var o=-1,i=Vi(Bi((t-e)/(n||1)),0),a=Array(i);i--;)a[r?i:++o]=e,e+=n;return a};var qi=function(r){return function(e,t,n){return n&&"number"!=typeof n&&ei(e,t,n)&&(t=n=void 0),e=di(e),void 0===t?(t=e,e=0):t=di(t),n=void 0===n?e<t?1:-1:di(n),$i(e,t,n,r)}}();var Yi=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e};var Wi=function(e,t){if(e!==t){var n=void 0!==e,r=null===e,o=e==e,i=Wn(e),a=void 0!==t,u=null===t,c=t==t,f=Wn(t);if(!u&&!f&&!i&&t<e||i&&a&&c&&!u&&!f||r&&a&&c||!n&&c||!o)return 1;if(!r&&!i&&!f&&e<t||f&&n&&o&&!r&&!i||u&&n&&o||!a&&o||!c)return-1}return 0};var Hi=function(e,t,n){for(var r=-1,o=e.criteria,i=t.criteria,a=o.length,u=n.length;++r<a;){var c=Wi(o[r],i[r]);if(c)return u<=r?c:c*("desc"==n[r]?-1:1)}return e.index-t.index};var Ji=function(e,r,n){var o=-1;r=rr(r.length?r:[bn],ze(wr));var t=Ir(e,function(t,e,n){return{criteria:rr(r,function(e){return e(t)}),index:++o,value:t}});return Yi(t,function(e,t){return Hi(e,t,n)})},Ki=co(function(e,t){if(null==e)return[];var n=t.length;return 1<n&&ei(e,t[0],t[1])?t=[]:2<n&&ei(t[0],t[1],t[2])&&(t=[t[0]]),Ji(e,to(t,1),[])}),Qi=0;function Xi(e){var t=++Qi;return cr(e)+t}var Zi=function(e,t,n){for(var r=-1,o=e.length,i=t.length,a={};++r<o;){var u=r<i?t[r]:void 0;n(a,e[r],u)}return a};function ea(e,t){return Zi(e||[],t||[],_e)}var ta;try{ta={cloneDeep:Zo,constant:vn,defaults:ri,each:_n,filter:_r,find:vi,flatten:pi,forEach:wn,forIn:gi,has:xr,isUndefined:Nr,last:yi,map:Lr,mapValues:bi,max:_i,merge:Ci,min:Ti,minBy:Ri,now:Fi,pick:Ui,range:qi,reduce:Ar,sortBy:Ki,uniqueId:Xi,values:Eo,zipObject:ea}}catch(e){}var na=ta=ta||window._,ra=oa;function oa(){var e={};e._next=e._prev=e,this._sentinel=e}function ia(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function aa(e,t){if("_next"!==e&&"_prev"!==e)return t}oa.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return ia(t),t},oa.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&ia(e),e._next=t._next,t._next._prev=e,(t._next=e)._prev=t},oa.prototype.toString=function(){for(var e=[],t=this._sentinel,n=t._prev;n!==t;)e.push(JSON.stringify(n,aa)),n=n._prev;return"["+e.join(", ")+"]"};var ua=Xo.Graph,ca=function(t,e){if(t.nodeCount()<=1)return[];var n=function(e,o){var i=new ua,a=0,u=0;na.forEach(e.nodes(),function(e){i.setNode(e,{v:e,in:0,out:0})}),na.forEach(e.edges(),function(e){var t=i.edge(e.v,e.w)||0,n=o(e),r=t+n;i.setEdge(e.v,e.w,r),u=Math.max(u,i.node(e.v).out+=n),a=Math.max(a,i.node(e.w).in+=n)});var t=na.range(u+a+3).map(function(){return new ra}),n=a+1;return na.forEach(i.nodes(),function(e){da(t,n,i.node(e))}),{graph:i,buckets:t,zeroIdx:n}}(t,e||fa),r=function(e,t,n){var r,o=[],i=t[t.length-1],a=t[0];for(;e.nodeCount();){for(;r=a.dequeue();)sa(e,t,n,r);for(;r=i.dequeue();)sa(e,t,n,r);if(e.nodeCount())for(var u=t.length-2;0<u;--u)if(r=t[u].dequeue()){o=o.concat(sa(e,t,n,r,!0));break}}return o}(n.graph,n.buckets,n.zeroIdx);return na.flatten(na.map(r,function(e){return t.outEdges(e.v,e.w)}),!0)},fa=na.constant(1);function sa(o,i,a,e,r){var u=r?[]:void 0;return na.forEach(o.inEdges(e.v),function(e){var t=o.edge(e),n=o.node(e.v);r&&u.push({v:e.v,w:e.w}),n.out-=t,da(i,a,n)}),na.forEach(o.outEdges(e.v),function(e){var t=o.edge(e),n=e.w,r=o.node(n);r.in-=t,da(i,a,r)}),o.removeNode(e.v),u}function da(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}var ha={run:function(n){var e="greedy"===n.graph().acyclicer?ca(n,function(t){return function(e){return t.edge(e).weight}}(n)):function(n){var r=[],o={},i={};return na.forEach(n.nodes(),function t(e){if(na.has(i,e))return;i[e]=!0;o[e]=!0;na.forEach(n.outEdges(e),function(e){na.has(o,e.w)?r.push(e):t(e.w)});delete o[e]}),r}(n);na.forEach(e,function(e){var t=n.edge(e);n.removeEdge(e),t.forwardName=e.name,t.reversed=!0,n.setEdge(e.w,e.v,t,na.uniqueId("rev"))})},undo:function(r){na.forEach(r.edges(),function(e){var t=r.edge(e);if(t.reversed){r.removeEdge(e);var n=t.forwardName;delete t.reversed,delete t.forwardName,r.setEdge(e.w,e.v,t,n)}})}};var la=Xo.Graph,va={addDummyNode:pa,simplify:function(r){var o=(new la).setGraph(r.graph());return na.forEach(r.nodes(),function(e){o.setNode(e,r.node(e))}),na.forEach(r.edges(),function(e){var t=o.edge(e.v,e.w)||{weight:0,minlen:1},n=r.edge(e);o.setEdge(e.v,e.w,{weight:t.weight+n.weight,minlen:Math.max(t.minlen,n.minlen)})}),o},asNonCompoundGraph:function(t){var n=new la({multigraph:t.isMultigraph()}).setGraph(t.graph());return na.forEach(t.nodes(),function(e){t.children(e).length||n.setNode(e,t.node(e))}),na.forEach(t.edges(),function(e){n.setEdge(e,t.edge(e))}),n},successorWeights:function(n){var e=na.map(n.nodes(),function(e){var t={};return na.forEach(n.outEdges(e),function(e){t[e.w]=(t[e.w]||0)+n.edge(e).weight}),t});return na.zipObject(n.nodes(),e)},predecessorWeights:function(n){var e=na.map(n.nodes(),function(e){var t={};return na.forEach(n.inEdges(e),function(e){t[e.v]=(t[e.v]||0)+n.edge(e).weight}),t});return na.zipObject(n.nodes(),e)},intersectRect:function(e,t){var n,r,o=e.x,i=e.y,a=t.x-o,u=t.y-i,c=e.width/2,f=e.height/2;if(!a&&!u)throw new Error("Not possible to find intersection inside of the rectangle");r=Math.abs(u)*c>Math.abs(a)*f?(u<0&&(f=-f),n=f*a/u,f):(a<0&&(c=-c),(n=c)*u/a);return{x:o+n,y:i+r}},buildLayerMatrix:function(r){var o=na.map(na.range(ga(r)+1),function(){return[]});return na.forEach(r.nodes(),function(e){var t=r.node(e),n=t.rank;na.isUndefined(n)||(o[n][t.order]=e)}),o},normalizeRanks:function(n){var r=na.min(na.map(n.nodes(),function(e){return n.node(e).rank}));na.forEach(n.nodes(),function(e){var t=n.node(e);na.has(t,"rank")&&(t.rank-=r)})},removeEmptyRanks:function(n){var r=na.min(na.map(n.nodes(),function(e){return n.node(e).rank})),o=[];na.forEach(n.nodes(),function(e){var t=n.node(e).rank-r;o[t]||(o[t]=[]),o[t].push(e)});var i=0,a=n.graph().nodeRankFactor;na.forEach(o,function(e,t){na.isUndefined(e)&&t%a!=0?--i:i&&na.forEach(e,function(e){n.node(e).rank+=i})})},addBorderNode:function(e,t,n,r){var o={width:0,height:0};4<=arguments.length&&(o.rank=n,o.order=r);return pa(e,"border",o,t)},maxRank:ga,partition:function(e,t){var n={lhs:[],rhs:[]};return na.forEach(e,function(e){t(e)?n.lhs.push(e):n.rhs.push(e)}),n},time:function(e,t){var n=na.now();try{return t()}finally{console.log(e+" time: "+(na.now()-n)+"ms")}},notime:function(e,t){return t()}};function pa(e,t,n,r){for(var o;o=na.uniqueId(r),e.hasNode(o););return n.dummy=t,e.setNode(o,n),o}function ga(n){return na.max(na.map(n.nodes(),function(e){var t=n.node(e).rank;if(!na.isUndefined(t))return t}))}var ya={run:function(t){t.graph().dummyChains=[],na.forEach(t.edges(),function(e){!function(e,t){var n,r,o,i=t.v,a=e.node(i).rank,u=t.w,c=e.node(u).rank,f=t.name,s=e.edge(t),d=s.labelRank;if(c===a+1)return;for(e.removeEdge(t),o=0,++a;a<c;++o,++a)s.points=[],r={width:0,height:0,edgeLabel:s,edgeObj:t,rank:a},n=va.addDummyNode(e,"edge",r,"_d"),a===d&&(r.width=s.width,r.height=s.height,r.dummy="edge-label",r.labelpos=s.labelpos),e.setEdge(i,n,{weight:s.weight},f),0===o&&e.graph().dummyChains.push(n),i=n;e.setEdge(i,u,{weight:s.weight},f)}(t,e)})},undo:function(o){na.forEach(o.graph().dummyChains,function(e){var t,n=o.node(e),r=n.edgeLabel;for(o.setEdge(n.edgeObj,r);n.dummy;)t=o.successors(e)[0],o.removeNode(e),r.points.push({x:n.x,y:n.y}),"edge-label"===n.dummy&&(r.x=n.x,r.y=n.y,r.width=n.width,r.height=n.height),e=t,n=o.node(e)})}};var ba=function(o){var i={};na.forEach(o.sources(),function t(e){var n=o.node(e);if(na.has(i,e))return n.rank;i[e]=!0;var r=na.min(na.map(o.outEdges(e),function(e){return t(e.w)-o.edge(e).minlen}));return r!==Number.POSITIVE_INFINITY&&null!=r||(r=0),n.rank=r})},ma=function(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen};var wa=Xo.Graph,_a=ma,Ea=function(e){var t,n,r=new wa({directed:!1}),o=e.nodes()[0],i=e.nodeCount();r.setNode(o,{});for(;ja(r,e)<i;)t=xa(r,e),n=r.hasNode(t.v)?_a(e,t):-_a(e,t),ka(r,e,n);return r};function ja(i,a){return na.forEach(i.nodes(),function r(o){na.forEach(a.nodeEdges(o),function(e){var t=e.v,n=o===t?e.w:t;i.hasNode(n)||_a(a,e)||(i.setNode(n,{}),i.setEdge(o,n,{}),r(n))})}),i.nodeCount()}function xa(t,n){return na.minBy(n.edges(),function(e){if(t.hasNode(e.v)!==t.hasNode(e.w))return _a(n,e)})}function ka(e,t,n){na.forEach(e.nodes(),function(e){t.node(e).rank+=n})}var Oa=ma,Na=ba,Ia=Xo.alg.preorder,La=Xo.alg.postorder,Sa=va.simplify,Pa=Aa;function Aa(e){e=Sa(e),Na(e);var t,n=Ea(e);for(Ta(n),Ca(n,e);t=Ra(n);)za(n,e,t,Fa(n,e,t))}function Ca(t,n){var e=La(t,t.nodes());e=e.slice(0,e.length-1),na.forEach(e,function(e){!function(e,t,n){var r=e.node(n).parent;e.edge(n,r).cutvalue=Ma(e,t,n)}(t,n,e)})}function Ma(a,u,c){var f=a.node(c).parent,s=!0,e=u.edge(c,f),d=0;return e||(s=!1,e=u.edge(f,c)),d=e.weight,na.forEach(u.nodeEdges(c),function(e){var t=e.v===c,n=t?e.w:e.v;if(n!==f){var r=t===s,o=u.edge(e).weight;if(d+=r?o:-o,function(e,t,n){return e.hasEdge(t,n)}(a,c,n)){var i=a.edge(c,n).cutvalue;d+=r?-i:i}}}),d}function Ta(e,t){arguments.length<2&&(t=e.nodes()[0]),function t(n,r,o,i,e){var a=o,u=n.node(i);r[i]=!0;na.forEach(n.neighbors(i),function(e){na.has(r,e)||(o=t(n,r,o,e,i))});u.low=a;u.lim=o++;e?u.parent=e:delete u.parent;return o}(e,{},1,t)}function Ra(t){return na.find(t.edges(),function(e){return t.edge(e).cutvalue<0})}function Fa(t,n,e){var r=e.v,o=e.w;n.hasEdge(r,o)||(r=e.w,o=e.v);var i=t.node(r),a=t.node(o),u=i,c=!1;i.lim>a.lim&&(u=a,c=!0);var f=na.filter(n.edges(),function(e){return c===Da(t,t.node(e.v),u)&&c!==Da(t,t.node(e.w),u)});return na.minBy(f,function(e){return Oa(n,e)})}function za(e,t,n,r){var o=n.v,i=n.w;e.removeEdge(o,i),e.setEdge(r.v,r.w,{}),Ta(e),Ca(e,t),function(o,i){var e=na.find(o.nodes(),function(e){return!i.node(e).parent}),t=Ia(o,e);t=t.slice(1),na.forEach(t,function(e){var t=o.node(e).parent,n=i.edge(e,t),r=!1;n||(n=i.edge(t,e),r=!0),i.node(e).rank=i.node(t).rank+(r?n.minlen:-n.minlen)})}(e,t)}function Da(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}Aa.initLowLimValues=Ta,Aa.initCutValues=Ca,Aa.calcCutValue=Ma,Aa.leaveEdge=Ra,Aa.enterEdge=Fa,Aa.exchangeEdges=za;var Ga=ba,Ua=function(e){switch(e.graph().ranker){case"network-simplex":Va(e);break;case"tight-tree":!function(e){Ga(e),Ea(e)}(e);break;case"longest-path":Ba(e);break;default:Va(e)}};var Ba=Ga;function Va(e){Pa(e)}var $a=function(f){var s=function(r){var o={},i=0;return na.forEach(r.children(),function e(t){var n=i;na.forEach(r.children(t),e);o[t]={low:n,lim:i++}}),o}(f);na.forEach(f.graph().dummyChains,function(e){for(var t=f.node(e),n=t.edgeObj,r=function(e,t,n,r){var o,i,a=[],u=[],c=Math.min(t[n].low,t[r].low),f=Math.max(t[n].lim,t[r].lim);o=n;for(;o=e.parent(o),a.push(o),o&&(t[o].low>c||f>t[o].lim););i=o,o=r;for(;(o=e.parent(o))!==i;)u.push(o);return{path:a.concat(u.reverse()),lca:i}}(f,s,n.v,n.w),o=r.path,i=r.lca,a=0,u=o[a],c=!0;e!==n.w;){if(t=f.node(e),c){for(;(u=o[a])!==i&&f.node(u).maxRank<t.rank;)a++;u===i&&(c=!1)}if(!c){for(;a<o.length-1&&f.node(u=o[a+1]).minRank<=t.rank;)a++;u=o[a]}f.setParent(e,u),e=f.successors(e)[0]}})};var qa={run:function(t){var n=va.addDummyNode(t,"root",{},"_root"),r=function(o){var i={};return na.forEach(o.children(),function(e){!function t(e,n){var r=o.children(e);r&&r.length&&na.forEach(r,function(e){t(e,n+1)});i[e]=n}(e,1)}),i}(t),o=na.max(na.values(r))-1,i=2*o+1;t.graph().nestingRoot=n,na.forEach(t.edges(),function(e){t.edge(e).minlen*=i});var a=function(n){return na.reduce(n.edges(),function(e,t){return e+n.edge(t).weight},0)}(t)+1;na.forEach(t.children(),function(e){!function a(u,c,f,s,d,h,l){var e=u.children(l);if(!e.length)return void(l!==c&&u.setEdge(c,l,{weight:0,minlen:f}));var v=va.addBorderNode(u,"_bt"),p=va.addBorderNode(u,"_bb"),t=u.node(l);u.setParent(v,l);t.borderTop=v;u.setParent(p,l);t.borderBottom=p;na.forEach(e,function(e){a(u,c,f,s,d,h,e);var t=u.node(e),n=t.borderTop?t.borderTop:e,r=t.borderBottom?t.borderBottom:e,o=t.borderTop?s:2*s,i=n!==r?1:d-h[l]+1;u.setEdge(v,n,{weight:o,minlen:i,nestingEdge:!0}),u.setEdge(r,p,{weight:o,minlen:i,nestingEdge:!0})});u.parent(l)||u.setEdge(c,v,{weight:0,minlen:d+h[l]})}(t,n,i,a,o,r,e)}),t.graph().nodeRankFactor=i},cleanup:function(t){var e=t.graph();t.removeNode(e.nestingRoot),delete e.nestingRoot,na.forEach(t.edges(),function(e){t.edge(e).nestingEdge&&t.removeEdge(e)})}};var Ya=function(a){na.forEach(a.children(),function e(t){var n=a.children(t),r=a.node(t);if(n.length&&na.forEach(n,e),na.has(r,"minRank")){r.borderLeft=[],r.borderRight=[];for(var o=r.minRank,i=r.maxRank+1;o<i;++o)Wa(a,"borderLeft","_bl",t,r,o),Wa(a,"borderRight","_br",t,r,o)}})};function Wa(e,t,n,r,o,i){var a={width:0,height:0,rank:i,borderType:t},u=o[t][i-1],c=va.addDummyNode(e,"border",a,n);o[t][i]=c,e.setParent(c,r),u&&e.setEdge(u,c,{weight:1})}var Ha={adjust:function(e){var t=e.graph().rankdir.toLowerCase();"lr"!==t&&"rl"!==t||Ja(e)},undo:function(e){var t=e.graph().rankdir.toLowerCase();"bt"!==t&&"rl"!==t||function(n){na.forEach(n.nodes(),function(e){Qa(n.node(e))}),na.forEach(n.edges(),function(e){var t=n.edge(e);na.forEach(t.points,Qa),na.has(t,"y")&&Qa(t)})}(e);"lr"!==t&&"rl"!==t||(function(n){na.forEach(n.nodes(),function(e){Xa(n.node(e))}),na.forEach(n.edges(),function(e){var t=n.edge(e);na.forEach(t.points,Xa),na.has(t,"x")&&Xa(t)})}(e),Ja(e))}};function Ja(t){na.forEach(t.nodes(),function(e){Ka(t.node(e))}),na.forEach(t.edges(),function(e){Ka(t.edge(e))})}function Ka(e){var t=e.width;e.width=e.height,e.height=t}function Qa(e){e.y=-e.y}function Xa(e){var t=e.x;e.x=e.y,e.y=t}var Za=function(r){var o={},e=na.filter(r.nodes(),function(e){return!r.children(e).length}),t=na.max(na.map(e,function(e){return r.node(e).rank})),i=na.map(na.range(t+1),function(){return[]});var n=na.sortBy(e,function(e){return r.node(e).rank});return na.forEach(n,function e(t){if(na.has(o,t))return;o[t]=!0;var n=r.node(t);i[n.rank].push(t);na.forEach(r.successors(t),e)}),i};var eu=function(e,t){for(var n=0,r=1;r<t.length;++r)n+=tu(e,t[r-1],t[r]);return n};function tu(t,e,n){for(var r=na.zipObject(n,na.map(n,function(e,t){return t})),o=na.flatten(na.map(e,function(e){return na.sortBy(na.map(t.outEdges(e),function(e){return{pos:r[e.w],weight:t.edge(e).weight}}),"pos")}),!0),i=1;i<n.length;)i<<=1;var a=2*i-1;i-=1;var u=na.map(new Array(a),function(){return 0}),c=0;return na.forEach(o.forEach(function(e){var t=e.pos+i;u[t]+=e.weight;for(var n=0;0<t;)t%2&&(n+=u[t+1]),u[t=t-1>>1]+=e.weight;c+=e.weight*n})),c}var nu=function(o,e){return na.map(e,function(e){var t=o.inEdges(e);if(t.length){var n=na.reduce(t,function(e,t){var n=o.edge(t),r=o.node(t.v);return{sum:e.sum+n.weight*r.order,weight:e.weight+n.weight}},{sum:0,weight:0});return{v:e,barycenter:n.sum/n.weight,weight:n.weight}}return{v:e}})};var ru=function(e,t){var r={};return na.forEach(e,function(e,t){var n=r[e.v]={indegree:0,in:[],out:[],vs:[e.v],i:t};na.isUndefined(e.barycenter)||(n.barycenter=e.barycenter,n.weight=e.weight)}),na.forEach(t.edges(),function(e){var t=r[e.v],n=r[e.w];na.isUndefined(t)||na.isUndefined(n)||(n.indegree++,t.out.push(r[e.w]))}),function(n){var e=[];function t(t){return function(e){e.merged||(na.isUndefined(e.barycenter)||na.isUndefined(t.barycenter)||e.barycenter>=t.barycenter)&&function(e,t){var n=0,r=0;e.weight&&(n+=e.barycenter*e.weight,r+=e.weight);t.weight&&(n+=t.barycenter*t.weight,r+=t.weight);e.vs=t.vs.concat(e.vs),e.barycenter=n/r,e.weight=r,e.i=Math.min(t.i,e.i),t.merged=!0}(t,e)}}function r(t){return function(e){e.in.push(t),0==--e.indegree&&n.push(e)}}for(;n.length;){var o=n.pop();e.push(o),na.forEach(o.in.reverse(),t(o)),na.forEach(o.out,r(o))}return na.map(na.filter(e,function(e){return!e.merged}),function(e){return na.pick(e,["vs","i","barycenter","weight"])})}(na.filter(r,function(e){return!e.indegree}))};var ou=function(e,t){var n=va.partition(e,function(e){return na.has(e,"barycenter")}),r=n.lhs,o=na.sortBy(n.rhs,function(e){return-e.i}),i=[],a=0,u=0,c=0;r.sort(function(n){return function(e,t){return e.barycenter<t.barycenter?-1:e.barycenter>t.barycenter?1:n?t.i-e.i:e.i-t.i}}(!!t)),c=iu(i,o,c),na.forEach(r,function(e){c+=e.vs.length,i.push(e.vs),a+=e.barycenter*e.weight,u+=e.weight,c=iu(i,o,c)});var f={vs:na.flatten(i,!0)};u&&(f.barycenter=a/u,f.weight=u);return f};function iu(e,t,n){for(var r;t.length&&(r=na.last(t)).i<=n;)t.pop(),e.push(r.vs),n++;return n}var au=function n(r,e,o,i){var t=r.children(e),a=r.node(e),u=a?a.borderLeft:void 0,c=a?a.borderRight:void 0,f={};u&&(t=na.filter(t,function(e){return e!==u&&e!==c}));var s=nu(r,t);na.forEach(s,function(e){if(r.children(e.v).length){var t=n(r,e.v,o,i);f[e.v]=t,na.has(t,"barycenter")&&uu(e,t)}});var d=ru(s,o);h=d,l=f,na.forEach(h,function(e){e.vs=na.flatten(e.vs.map(function(e){return l[e]?l[e].vs:e}),!0)});var h,l;var v=ou(d,i);if(u&&(v.vs=na.flatten([u,v.vs,c],!0),r.predecessors(u).length)){var p=r.node(r.predecessors(u)[0]),g=r.node(r.predecessors(c)[0]);na.has(v,"barycenter")||(v.barycenter=0,v.weight=0),v.barycenter=(v.barycenter*v.weight+p.order+g.order)/(v.weight+2),v.weight+=2}return v};function uu(e,t){na.isUndefined(e.barycenter)?(e.barycenter=t.barycenter,e.weight=t.weight):(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight)}var cu=Xo.Graph,fu=function(i,n,r){var a=function(e){var t;for(;e.hasNode(t=na.uniqueId("_root")););return t}(i),u=new cu({compound:!0}).setGraph({root:a}).setDefaultNodeLabel(function(e){return i.node(e)});return na.forEach(i.nodes(),function(o){var e=i.node(o),t=i.parent(o);(e.rank===n||e.minRank<=n&&n<=e.maxRank)&&(u.setNode(o),u.setParent(o,t||a),na.forEach(i[r](o),function(e){var t=e.v===o?e.w:e.v,n=u.edge(t,o),r=na.isUndefined(n)?0:n.weight;u.setEdge(t,o,{weight:i.edge(e).weight+r})}),na.has(e,"minRank")&&u.setNode(o,{borderLeft:e.borderLeft[n],borderRight:e.borderRight[n]}))}),u};var su=function(o,i,e){var a,u={};na.forEach(e,function(e){for(var t,n,r=o.parent(e);r;){if((t=o.parent(r))?(n=u[t],u[t]=r):(n=a,a=r),n&&n!==r)return void i.setEdge(n,r);r=t}})};var du=Xo.Graph,hu=function(e){var t=va.maxRank(e),n=lu(e,na.range(1,t+1),"inEdges"),r=lu(e,na.range(t-1,-1,-1),"outEdges"),o=Za(e);pu(e,o);for(var i,a=Number.POSITIVE_INFINITY,u=0,c=0;c<4;++u,++c){vu(u%2?n:r,2<=u%4),o=va.buildLayerMatrix(e);var f=eu(e,o);f<a&&(c=0,i=na.cloneDeep(o),a=f)}pu(e,i)};function lu(t,e,n){return na.map(e,function(e){return fu(t,e,n)})}function vu(e,r){var o=new du;na.forEach(e,function(n){var e=n.graph().root,t=au(n,e,o,r);na.forEach(t.vs,function(e,t){n.node(e).order=t}),su(n,o,t.vs)})}function pu(n,e){na.forEach(e,function(e){na.forEach(e,function(e,t){n.node(e).order=t})})}var gu=Xo.Graph,yu=function(i){var a,e=va.buildLayerMatrix(i),u=na.merge(bu(i,e),mu(i,e)),c={};na.forEach(["u","d"],function(o){a="u"===o?e:na.values(e).reverse(),na.forEach(["l","r"],function(e){"r"===e&&(a=na.map(a,function(e){return na.values(e).reverse()}));var t=("u"===o?i.predecessors:i.successors).bind(i),n=Eu(i,a,u,t),r=ju(i,a,n.root,n.align,"r"===e);"r"===e&&(r=na.mapValues(r,function(e){return-e})),c[o+e]=r})});var t=xu(i,c);return ku(c,t),Ou(c,i.graph().align)};function bu(f,e){var s={};return na.reduce(e,function(e,r){var i=0,a=0,u=e.length,c=na.last(r);return na.forEach(r,function(e,t){var n=function(t,e){if(t.node(e).dummy)return na.find(t.predecessors(e),function(e){return t.node(e).dummy})}(f,e),o=n?f.node(n).order:u;!n&&e!==c||(na.forEach(r.slice(a,t+1),function(r){na.forEach(f.predecessors(r),function(e){var t=f.node(e),n=t.order;!(n<i||o<n)||t.dummy&&f.node(r).dummy||wu(s,e,r)})}),a=t+1,i=o)}),r}),s}function mu(c,e){var a={};function f(t,e,n,r,o){var i;na.forEach(na.range(e,n),function(e){i=t[e],c.node(i).dummy&&na.forEach(c.predecessors(i),function(e){var t=c.node(e);t.dummy&&(t.order<r||t.order>o)&&wu(a,e,i)})})}return na.reduce(e,function(r,o){var i,a=-1,u=0;return na.forEach(o,function(e,t){if("border"===c.node(e).dummy){var n=c.predecessors(e);n.length&&(i=c.node(n[0]).order,f(o,u,t,a,i),u=t,a=i)}f(o,u,o.length,i,r.length)}),o}),a}function wu(e,t,n){if(n<t){var r=t;t=n,n=r}var o=e[t];o||(e[t]=o={}),o[n]=!0}function _u(e,t,n){if(n<t){var r=t;t=n,n=r}return na.has(e[t],n)}function Eu(e,t,u,c){var f={},s={},d={};return na.forEach(t,function(e){na.forEach(e,function(e,t){f[e]=e,s[e]=e,d[e]=t})}),na.forEach(t,function(e){var a=-1;na.forEach(e,function(e){var t=c(e);if(t.length)for(var n=((t=na.sortBy(t,function(e){return d[e]})).length-1)/2,r=Math.floor(n),o=Math.ceil(n);r<=o;++r){var i=t[r];s[e]===e&&a<d[i]&&!_u(u,e,i)&&(s[i]=e,s[e]=f[e]=f[i],a=d[i])}})}),{root:f,align:s}}function ju(r,e,t,n,o){var i={},a=function(i,e,a,t){var u=new gu,n=i.graph(),c=function(u,c,f){return function(e,t,n){var r,o=e.node(t),i=e.node(n),a=0;if(a+=o.width/2,na.has(o,"labelpos"))switch(o.labelpos.toLowerCase()){case"l":r=-o.width/2;break;case"r":r=o.width/2}if(r&&(a+=f?r:-r),r=0,a+=(o.dummy?c:u)/2,a+=(i.dummy?c:u)/2,a+=i.width/2,na.has(i,"labelpos"))switch(i.labelpos.toLowerCase()){case"l":r=i.width/2;break;case"r":r=-i.width/2}return r&&(a+=f?r:-r),r=0,a}}(n.nodesep,n.edgesep,t);return na.forEach(e,function(e){var o;na.forEach(e,function(e){var t=a[e];if(u.setNode(t),o){var n=a[o],r=u.edge(n,t);u.setEdge(n,t,Math.max(c(i,e,o),r||0))}o=e})}),u}(r,e,t,o),u=o?"borderLeft":"borderRight";function c(e,t){for(var n=a.nodes(),r=n.pop(),o={};r;)o[r]?e(r):(o[r]=!0,n.push(r),n=n.concat(t(r))),r=n.pop()}return c(function(e){i[e]=a.inEdges(e).reduce(function(e,t){return Math.max(e,i[t.v]+a.edge(t))},0)},a.predecessors.bind(a)),c(function(e){var t=a.outEdges(e).reduce(function(e,t){return Math.min(e,i[t.w]-a.edge(t))},Number.POSITIVE_INFINITY),n=r.node(e);t!==Number.POSITIVE_INFINITY&&n.borderType!==u&&(i[e]=Math.max(i[e],t))},a.successors.bind(a)),na.forEach(n,function(e){i[e]=i[t[e]]}),i}function xu(i,e){return na.minBy(na.values(e),function(e){var r=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY;return na.forIn(e,function(e,t){var n=function(e,t){return e.node(t).width}(i,t)/2;r=Math.max(e+n,r),o=Math.min(e-n,o)}),r-o})}function ku(a,u){var e=na.values(u),c=na.min(e),f=na.max(e);na.forEach(["u","d"],function(i){na.forEach(["l","r"],function(e){var t,n=i+e,r=a[n];if(r!==u){var o=na.values(r);(t="l"===e?c-na.min(o):f-na.max(o))&&(a[n]=na.mapValues(r,function(e){return e+t}))}})})}function Ou(r,o){return na.mapValues(r.ul,function(e,t){if(o)return r[o.toLowerCase()][t];var n=na.sortBy(na.map(r,t));return(n[1]+n[2])/2})}var Nu=yu,Iu=function(n){(function(n){var e=va.buildLayerMatrix(n),r=n.graph().ranksep,o=0;na.forEach(e,function(e){var t=na.max(na.map(e,function(e){return n.node(e).height}));na.forEach(e,function(e){n.node(e).y=o+t/2}),o+=t+r})})(n=va.asNonCompoundGraph(n)),na.forEach(Nu(n),function(e,t){n.node(t).x=e})};function Lu(t,e){var n=e&&e.debugTiming?Au.time:Au.notime;n("layout",function(){var e=n("  buildLayoutGraph",function(){return function(n){var r=new Cu({multigraph:!0,compound:!0}),e=Vu(n.graph());return r.setGraph(na.merge({},Tu,Bu(e,Mu),na.pick(e,Ru))),na.forEach(n.nodes(),function(e){var t=Vu(n.node(e));r.setNode(e,na.defaults(Bu(t,Fu),zu)),r.setParent(e,n.parent(e))}),na.forEach(n.edges(),function(e){var t=Vu(n.edge(e));r.setEdge(e,na.merge({},Gu,Bu(t,Du),na.pick(t,Uu)))}),r}(t)});n("  runLayout",function(){!function(e,t){t("    makeSpaceForEdgeLabels",function(){!function(n){var r=n.graph();r.ranksep/=2,na.forEach(n.edges(),function(e){var t=n.edge(e);t.minlen*=2,"c"!==t.labelpos.toLowerCase()&&("TB"===r.rankdir||"BT"===r.rankdir?t.width+=t.labeloffset:t.height+=t.labeloffset)})}(e)}),t("    removeSelfEdges",function(){!function(n){na.forEach(n.edges(),function(e){if(e.v===e.w){var t=n.node(e.v);t.selfEdges||(t.selfEdges=[]),t.selfEdges.push({e:e,label:n.edge(e)}),n.removeEdge(e)}})}(e)}),t("    acyclic",function(){ha.run(e)}),t("    nestingGraph.run",function(){qa.run(e)}),t("    rank",function(){Ua(Au.asNonCompoundGraph(e))}),t("    injectEdgeLabelProxies",function(){!function(o){na.forEach(o.edges(),function(e){var t=o.edge(e);if(t.width&&t.height){var n=o.node(e.v),r={rank:(o.node(e.w).rank-n.rank)/2+n.rank,e:e};Au.addDummyNode(o,"edge-proxy",r,"_ep")}})}(e)}),t("    removeEmptyRanks",function(){Pu(e)}),t("    nestingGraph.cleanup",function(){qa.cleanup(e)}),t("    normalizeRanks",function(){Su(e)}),t("    assignRankMinMax",function(){!function(n){var r=0;na.forEach(n.nodes(),function(e){var t=n.node(e);t.borderTop&&(t.minRank=n.node(t.borderTop).rank,t.maxRank=n.node(t.borderBottom).rank,r=na.max(r,t.maxRank))}),n.graph().maxRank=r}(e)}),t("    removeEdgeLabelProxies",function(){!function(n){na.forEach(n.nodes(),function(e){var t=n.node(e);"edge-proxy"===t.dummy&&(n.edge(t.e).labelRank=t.rank,n.removeNode(e))})}(e)}),t("    normalize.run",function(){ya.run(e)}),t("    parentDummyChains",function(){$a(e)}),t("    addBorderSegments",function(){Ya(e)}),t("    order",function(){hu(e)}),t("    insertSelfEdges",function(){!function(o){var e=Au.buildLayerMatrix(o);na.forEach(e,function(e){var r=0;na.forEach(e,function(e,t){var n=o.node(e);n.order=t+r,na.forEach(n.selfEdges,function(e){Au.addDummyNode(o,"selfedge",{width:e.label.width,height:e.label.height,rank:n.rank,order:t+ ++r,e:e.e,label:e.label},"_se")}),delete n.selfEdges})})}(e)}),t("    adjustCoordinateSystem",function(){Ha.adjust(e)}),t("    position",function(){Iu(e)}),t("    positionSelfEdges",function(){!function(u){na.forEach(u.nodes(),function(e){var t=u.node(e);if("selfedge"===t.dummy){var n=u.node(t.e.v),r=n.x+n.width/2,o=n.y,i=t.x-r,a=n.height/2;u.setEdge(t.e,t.label),u.removeNode(e),t.label.points=[{x:r+2*i/3,y:o-a},{x:r+5*i/6,y:o-a},{x:r+i,y:o},{x:r+5*i/6,y:o+a},{x:r+2*i/3,y:o+a}],t.label.x=t.x,t.label.y=t.y}})}(e)}),t("    removeBorderNodes",function(){!function(a){na.forEach(a.nodes(),function(e){if(a.children(e).length){var t=a.node(e),n=a.node(t.borderTop),r=a.node(t.borderBottom),o=a.node(na.last(t.borderLeft)),i=a.node(na.last(t.borderRight));t.width=Math.abs(i.x-o.x),t.height=Math.abs(r.y-n.y),t.x=o.x+t.width/2,t.y=n.y+t.height/2}}),na.forEach(a.nodes(),function(e){"border"===a.node(e).dummy&&a.removeNode(e)})}(e)}),t("    normalize.undo",function(){ya.undo(e)}),t("    fixupEdgeLabelCoords",function(){!function(n){na.forEach(n.edges(),function(e){var t=n.edge(e);if(na.has(t,"x"))switch("l"!==t.labelpos&&"r"!==t.labelpos||(t.width-=t.labeloffset),t.labelpos){case"l":t.x-=t.width/2+t.labeloffset;break;case"r":t.x+=t.width/2+t.labeloffset}})}(e)}),t("    undoCoordinateSystem",function(){Ha.undo(e)}),t("    translateGraph",function(){!function(n){var i=Number.POSITIVE_INFINITY,a=0,u=Number.POSITIVE_INFINITY,c=0,e=n.graph(),t=e.marginx||0,r=e.marginy||0;function o(e){var t=e.x,n=e.y,r=e.width,o=e.height;i=Math.min(i,t-r/2),a=Math.max(a,t+r/2),u=Math.min(u,n-o/2),c=Math.max(c,n+o/2)}na.forEach(n.nodes(),function(e){o(n.node(e))}),na.forEach(n.edges(),function(e){var t=n.edge(e);na.has(t,"x")&&o(t)}),i-=t,u-=r,na.forEach(n.nodes(),function(e){var t=n.node(e);t.x-=i,t.y-=u}),na.forEach(n.edges(),function(e){var t=n.edge(e);na.forEach(t.points,function(e){e.x-=i,e.y-=u}),na.has(t,"x")&&(t.x-=i),na.has(t,"y")&&(t.y-=u)}),e.width=a-i+t,e.height=c-u+r}(e)}),t("    assignNodeIntersects",function(){!function(a){na.forEach(a.edges(),function(e){var t,n,r=a.edge(e),o=a.node(e.v),i=a.node(e.w);n=r.points?(t=r.points[0],r.points[r.points.length-1]):(r.points=[],t=i,o),r.points.unshift(Au.intersectRect(o,t)),r.points.push(Au.intersectRect(i,n))})}(e)}),t("    reversePoints",function(){!function(n){na.forEach(n.edges(),function(e){var t=n.edge(e);t.reversed&&t.points.reverse()})}(e)}),t("    acyclic.undo",function(){ha.undo(e)})}(e,n)}),n("  updateInputGraph",function(){!function(r,o){na.forEach(r.nodes(),function(e){var t=r.node(e),n=o.node(e);t&&(t.x=n.x,t.y=n.y,o.children(e).length&&(t.width=n.width,t.height=n.height))}),na.forEach(r.edges(),function(e){var t=r.edge(e),n=o.edge(e);t.points=n.points,na.has(n,"x")&&(t.x=n.x,t.y=n.y)}),r.graph().width=o.graph().width,r.graph().height=o.graph().height}(t,e)})})}var Su=va.normalizeRanks,Pu=va.removeEmptyRanks,Au=va,Cu=Xo.Graph;var Mu=["nodesep","edgesep","ranksep","marginx","marginy"],Tu={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},Ru=["acyclicer","ranker","rankdir","align"],Fu=["width","height"],zu={width:0,height:0},Du=["minlen","weight","width","height","labeloffset"],Gu={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},Uu=["labelpos"];function Bu(e,t){return na.mapValues(na.pick(e,t),Number)}function Vu(e){var n={};return na.forEach(e,function(e,t){n[t.toLowerCase()]=e}),n}var $u=Xo.Graph;var qu={graphlib:Xo,layout:Lu,debug:{debugOrdering:function(t){var e=va.buildLayerMatrix(t),r=new $u({compound:!0,multigraph:!0}).setGraph({});return na.forEach(t.nodes(),function(e){r.setNode(e,{label:e}),r.setParent(e,"layer"+t.node(e).rank)}),na.forEach(t.edges(),function(e){r.setEdge(e.v,e.w,{},e.name)}),na.forEach(e,function(e,t){var n="layer"+t;r.setNode(n,{rank:"same"}),na.reduce(e,function(e,t){return r.setEdge(e,t,{style:"invis"}),t})}),r}},util:{time:va.time,notime:va.notime},version:"0.8.4"},Yu=function(){function r(e,t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.editor=e,this.margin=t,this.depth=n}return function(e,t,n){t&&o(e.prototype,t),n&&o(e,n)}(r,[{key:"getNodes",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:"output",r=[],o="".concat(n,"s"),i=!0,a=!1,u=void 0;try{for(var c,f=e[o].values()[Symbol.iterator]();!(i=(c=f.next()).done);i=!0){var s=c.value,d=!0,h=!1,l=void 0;try{for(var v,p=s.connections.values()[Symbol.iterator]();!(d=(v=p.next()).done);d=!0){var g=v.value;r.push(g["input"===n?"output":"input"].node)}}catch(e){h=!0,l=e}finally{try{d||null==p.return||p.return()}finally{if(h)throw l}}}}catch(e){a=!0,u=e}finally{try{i||null==f.return||f.return()}finally{if(a)throw u}}return r}},{key:"getNodesTable",value:function(e,t,n){var r=this,o=1<arguments.length&&void 0!==t?t:[],i=2<arguments.length&&void 0!==n?n:0;if(!(this.depth&&i>this.depth||(o[i]||(o[i]=[]),o[i].includes(e))))return o[i].push(e),this.getNodes(e,"output").map(function(e){return r.getNodesTable(e,o,i+1)}),this.getNodes(e,"input").map(function(e){return r.getNodesTable(e,o,i-1)}),o}},{key:"nodeSize",value:function(e){var t=this.editor.view.nodes.get(e).el;return{width:t.clientWidth,height:t.clientHeight}}},{key:"arrange",value:function(e){var n=this,t=(0<arguments.length&&void 0!==e||this.editor.nodes[0],{id:"root",layoutOptions:{"elk.algorithm":"layered"},children:this.editor.nodes.map(function(e,t){return function(o){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},t=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),t.forEach(function(e){var t,n,r;t=o,r=i[n=e],n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r})}return o}({id:e.id},n.nodeSize(e))}),edges:this.editor.nodes.flatMap(function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e.inputs.entries()[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var c=j(a.value,2),f=c[0],s=j(c[1].connections,1)[0].output;n.push({id:"e.".concat(t,".").concat(f),sources:[e.id],targets:[s.node.id]})}}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n})}),r=new qu.graphlib.Graph;r.setGraph({rankdir:"RL",align:"dl"}),r.setDefaultEdgeLabel(function(){return{}});var o=!0,i=!1,a=void 0;try{for(var u,c=t.children[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var f=u.value;r.setNode(f.id,{label:f.id,width:f.width,height:f.height})}}catch(e){i=!0,a=e}finally{try{o||null==c.return||c.return()}finally{if(i)throw a}}var s=!0,d=!1,h=void 0;try{for(var l,v=t.edges[Symbol.iterator]();!(s=(l=v.next()).done);s=!0){var p=l.value;r.setEdge(p.sources[0],p.targets[0])}}catch(e){d=!0,h=e}finally{try{s||null==v.return||v.return()}finally{if(d)throw h}}qu.layout(r,{rankdir:"RL",align:"dl"});var g={};r.nodes().forEach(function(e){var t=r.node(e);g[e]=t});var y=!0,b=!1,m=void 0;try{for(var w,_=this.editor.view.nodes.values()[Symbol.iterator]();!(y=(w=_.next()).done);y=!0){var E=w.value;E.translate(g[E.node.id].x,g[E.node.id].y)}}catch(e){b=!0,m=e}finally{try{y||null==_.return||_.return()}finally{if(b)throw m}}}}]),r}();var Wu={name:"auto-arrange",install:function(e,t){var n=t.margin,r=void 0===n?{x:50,y:50}:n,o=t.depth,i=void 0===o?null:o;e.bind("arrange");var a=new Yu(e,r,i);e.on("arrange",function(e){var t=e.node;return a.arrange(t)}),e.arrange=function(e){console.log("Deprecated: use editor.trigger('arrange', { node }) instead"),a.arrange(e)}}};e.default=Wu,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=auto-arrange-plugin.min.js.map
